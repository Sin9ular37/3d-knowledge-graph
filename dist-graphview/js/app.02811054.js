(function(){"use strict";var e={213:function(e,t,o){var n=o(5130),s=o(6768);const i={id:"app"};function r(e,t,o,n,r,a){const c=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",i,[(0,s.bF)(c)])}var a={name:"App"},c=o(1241);const l=(0,c.A)(a,[["render",r]]);var d=l,h=o(1387),u=o(4232);const p={class:"three-graph-container"},f={class:"starry-background"},g={key:0,class:"loading-overlay"},v={class:"loading-spinner"},m={class:"loading-text"},y={ref:"threeContainer",class:"three-container"},k={class:"control-panel"},w={class:"panel-header"},b={class:"control-section"},L={class:"control-buttons"},C={class:"control-section"},T={class:"view-controls"},D={class:"control-section"},P={class:"info-cards"},O={class:"info-card"},j={class:"info-content"},A={class:"info-value"},E={class:"info-card"},N={class:"info-content"},G={class:"info-value"},I={class:"info-card"},_={class:"info-content"},R={class:"info-value"},x={class:"modal-header"},S={class:"modal-body"},F={class:"node-info"},M={key:0};function $(e,t,o,i,r,a){return(0,s.uX)(),(0,s.CE)("div",p,[t[21]||(t[21]=(0,s.Lk)("div",{class:"animated-background"},[(0,s.Lk)("div",{class:"bg-layer layer1"}),(0,s.Lk)("div",{class:"bg-layer layer2"}),(0,s.Lk)("div",{class:"bg-layer layer3"})],-1)),(0,s.Lk)("div",f,[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(200,e=>(0,s.Lk)("div",{key:e,class:"star",style:(0,u.Tr)(a.getStarStyle())},null,4)),64))]),r.loading?((0,s.uX)(),(0,s.CE)("div",g,[(0,s.Lk)("div",v,[t[7]||(t[7]=(0,s.Lk)("div",{class:"spinner-ring"},null,-1)),(0,s.Lk)("div",m,(0,u.v_)(r.loadingText),1)])])):(0,s.Q3)("",!0),t[22]||(t[22]=(0,s.Lk)("div",{class:"title-bar"},[(0,s.Lk)("h1",{class:"main-title"},[(0,s.Lk)("span",{class:"title-icon"},"üåå"),(0,s.eW)(" Áü•ËØÜÂõæË∞± ")])],-1)),(0,s.Lk)("div",y,null,512),(0,s.Lk)("div",k,[(0,s.Lk)("div",w,[t[8]||(t[8]=(0,s.Lk)("h3",null,"üéÆ Three.js ÊéßÂà∂Âè∞",-1)),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>a.togglePanel&&a.togglePanel(...e)),class:"panel-toggle"},(0,u.v_)(r.panelCollapsed?"Â±ïÂºÄ":"Êî∂Ëµ∑"),1)]),(0,s.Lk)("div",{class:(0,u.C4)(["panel-content",{collapsed:r.panelCollapsed}])},[(0,s.Lk)("div",b,[t[9]||(t[9]=(0,s.Lk)("h4",null,"Êï∞ÊçÆÊìç‰Ωú",-1)),(0,s.Lk)("div",L,[(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>a.refreshData&&a.refreshData(...e)),class:"btn btn-primary"}," üîÑ Âà∑Êñ∞Êï∞ÊçÆ ")])]),(0,s.Lk)("div",C,[t[10]||(t[10]=(0,s.Lk)("h4",null,"ËßÜÂõæÊéßÂà∂",-1)),(0,s.Lk)("div",T,[(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>a.toggleAutoRotate&&a.toggleAutoRotate(...e)),class:(0,u.C4)(["btn",r.autoRotate?"btn-success":"btn-outline"])},(0,u.v_)(r.autoRotate?"‚è∏Ô∏è ÂÅúÊ≠¢Ëá™ËΩ¨":"‚ñ∂Ô∏è ÂºÄÂßãËá™ËΩ¨"),3),(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>a.resetView&&a.resetView(...e)),class:"btn btn-outline"}," üéØ ÈáçÁΩÆËßÜËßí ")])]),(0,s.Lk)("div",D,[t[17]||(t[17]=(0,s.Lk)("h4",null,"ÁªüËÆ°‰ø°ÊÅØ",-1)),(0,s.Lk)("div",P,[(0,s.Lk)("div",O,[t[12]||(t[12]=(0,s.Lk)("div",{class:"info-icon"},"üìä",-1)),(0,s.Lk)("div",j,[(0,s.Lk)("div",A,(0,u.v_)(r.nodeCount),1),t[11]||(t[11]=(0,s.Lk)("div",{class:"info-label"},"ËäÇÁÇπ",-1))])]),(0,s.Lk)("div",E,[t[14]||(t[14]=(0,s.Lk)("div",{class:"info-icon"},"üîó",-1)),(0,s.Lk)("div",N,[(0,s.Lk)("div",G,(0,u.v_)(r.linkCount),1),t[13]||(t[13]=(0,s.Lk)("div",{class:"info-label"},"ËøûÁ∫ø",-1))])]),(0,s.Lk)("div",I,[t[16]||(t[16]=(0,s.Lk)("div",{class:"info-icon"},"üéÆ",-1)),(0,s.Lk)("div",_,[(0,s.Lk)("div",R,(0,u.v_)(Math.round(r.fps)),1),t[15]||(t[15]=(0,s.Lk)("div",{class:"info-label"},"FPS",-1))])])])])],2)]),r.selectedNode?((0,s.uX)(),(0,s.CE)("div",{key:1,class:"node-detail-modal",onClick:t[6]||(t[6]=(...e)=>a.closeNodeDetail&&a.closeNodeDetail(...e))},[(0,s.Lk)("div",{class:"modal-content",onClick:t[5]||(t[5]=(0,n.D$)(()=>{},["stop"]))},[(0,s.Lk)("div",x,[(0,s.Lk)("h3",null,(0,u.v_)(r.selectedNode.name),1),(0,s.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>a.closeNodeDetail&&a.closeNodeDetail(...e)),class:"close-btn"},"√ó")]),(0,s.Lk)("div",S,[(0,s.Lk)("div",F,[(0,s.Lk)("p",null,[t[18]||(t[18]=(0,s.Lk)("strong",null,"Á±ªÂûã:",-1)),(0,s.eW)(" "+(0,u.v_)(r.selectedNode.properties?.type||"Êú™Áü•"),1)]),(0,s.Lk)("p",null,[t[19]||(t[19]=(0,s.Lk)("strong",null,"ÊùÉÈáç:",-1)),(0,s.eW)(" "+(0,u.v_)(r.selectedNode.value),1)]),r.selectedNode.description?((0,s.uX)(),(0,s.CE)("p",M,[t[20]||(t[20]=(0,s.Lk)("strong",null,"ÊèèËø∞:",-1)),(0,s.eW)(" "+(0,u.v_)(r.selectedNode.description),1)])):(0,s.Q3)("",!0)])])])])):(0,s.Q3)("",!0)])}o(4114),o(8111),o(116),o(7588);var B=o(8371),W=o(8776),z=o(144);o(1148),o(1701),o(7642),o(8004),o(3853),o(5876),o(2475),o(5024),o(1698);class V{constructor(){this.baseURL={NODE_ENV:"production",BASE_URL:"/graphview/"}.VUE_APP_API_BASE_URL||"",this.dataCache=new Map}async loadFromAPI(e="/api/knowledge-graph"){const t=`api_${e}`;if(this.dataCache.has(t))return this.dataCache.get(t);try{const o=await fetch(`${this.baseURL}${e}`,{method:"GET",headers:{"Content-Type":"application/json"},timeout:1e4});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const n=await o.json(),s=this.formatData(n);return this.dataCache.set(t,s),s}catch(o){throw console.error("‰ªéAPIËé∑ÂèñÊï∞ÊçÆÂ§±Ë¥•:",o),o}}formatData(e){if(!e.nodes||!Array.isArray(e.nodes))throw new Error("Êï∞ÊçÆÁº∫Â∞ënodesÂ≠óÊÆµÊàñÊ†ºÂºè‰∏çÊ≠£Á°Æ");if(!e.links&&!e.edges)throw new Error("Êï∞ÊçÆÁº∫Â∞ëlinksÊàñedgesÂ≠óÊÆµ");const t=e.links||e.edges||[],o=e.nodes.map((e,t)=>({id:e.id||`node_${t}`,name:e.name||e.label||`ËäÇÁÇπ${t+1}`,category:void 0!==e.category?e.category:t%6,value:e.value||50*Math.random()+20,description:e.description||`${e.name||"ËäÇÁÇπ"}ÁöÑÊèèËø∞‰ø°ÊÅØ`,properties:{type:e.properties?.type||this.getCategoryName(e.category||t%6),...e.properties},...e})),n=t.map(e=>({source:e.source||e.from,target:e.target||e.to,value:e.value||e.weight||5*Math.random()+1,relationship:e.relationship||e.type||"ÂÖ≥ËÅî",description:e.description||`${e.source} ‰∏é ${e.target} ÁöÑÂÖ≥Á≥ª`,...e}));return{title:e.title||"3DÁü•ËØÜÂõæË∞±",description:e.description||"Êô∫ËÉΩÂÖ≥Á≥ªÁΩëÁªúÂàÜÊûê",nodes:o,links:n,categories:e.categories||this.getDefaultCategories(),metadata:{total_nodes:o.length,total_links:n.length,last_updated:(new Date).toISOString(),data_source:e.metadata?.data_source||"Êú™Áü•",version:e.version||"1.0",...e.metadata}}}getCategoryName(e){const t=["Ê†∏ÂøÉÊ¶ÇÂøµ","Â∫îÁî®È¢ÜÂüü","Â∑•ÂÖ∑Ê°ÜÊû∂","ÂÖ∑‰ΩìÊ®°Âûã","ËØÅÊçÆÁ±ªÂûã","Áõ∏ÂÖ≥Áâ©ÂìÅ"];return t[e]||"ÂÖ∂‰ªñ"}getDefaultCategories(){return[{id:0,name:"Ê†∏ÂøÉÊ¶ÇÂøµ",color:"#ff9800",description:"È¢ÜÂüüÁöÑÊ†∏ÂøÉÊ¶ÇÂøµ"},{id:1,name:"Â∫îÁî®È¢ÜÂüü",color:"#f44336",description:"ÂÖ∑‰ΩìÂ∫îÁî®È¢ÜÂüü"},{id:2,name:"Â∑•ÂÖ∑Ê°ÜÊû∂",color:"#4caf50",description:"Áõ∏ÂÖ≥Â∑•ÂÖ∑ÂíåÊ°ÜÊû∂"},{id:3,name:"ÂÖ∑‰ΩìÊ®°Âûã",color:"#2196f3",description:"ÂÖ∑‰ΩìÁöÑÊ®°ÂûãÂíåÁÆóÊ≥ï"},{id:4,name:"ËØÅÊçÆÁ±ªÂûã",color:"#9c27b0",description:"ÂêÑÁ±ªËØÅÊçÆÂíåÊùêÊñô"},{id:5,name:"Áõ∏ÂÖ≥Áâ©ÂìÅ",color:"#607d8b",description:"Áõ∏ÂÖ≥Áâ©ÂìÅÂíåËµÑÊ∫ê"}]}validateData(e){try{if(!e||"object"!==typeof e)return!1;if(!Array.isArray(e.nodes)||0===e.nodes.length)return!1;if(!Array.isArray(e.links))return!1;const t=e.nodes.every(e=>Object.prototype.hasOwnProperty.call(e,"id")&&Object.prototype.hasOwnProperty.call(e,"name")&&"string"===typeof e.id&&"string"===typeof e.name),o=e.links.every(e=>Object.prototype.hasOwnProperty.call(e,"source")&&Object.prototype.hasOwnProperty.call(e,"target")&&"string"===typeof e.source&&"string"===typeof e.target),n=new Set(e.nodes.map(e=>e.id)),s=e.links.every(e=>n.has(e.source)&&n.has(e.target));return t&&o&&s}catch(t){return console.error("Êï∞ÊçÆÈ™åËØÅÂ§±Ë¥•:",t),!1}}generateSampleData(){return{title:"AIÊäÄÊúØÁü•ËØÜÂõæË∞±",description:"‰∫∫Â∑•Êô∫ËÉΩÈ¢ÜÂüüÁöÑÊäÄÊúØÂÖ≥Á≥ªÂõæË∞±",version:"1.0",nodes:[{id:"AI",name:"‰∫∫Â∑•Êô∫ËÉΩ",category:0,value:100,description:"‰∏ÄÈó®ËÆ©Êú∫Âô®Ê®°Êãü‰∫∫Á±ªÊô∫ËÉΩÁöÑÁßëÂ≠¶ÊäÄÊúØ",properties:{type:"Ê†∏ÂøÉÊ¶ÇÂøµ",field:"ËÆ°ÁÆóÊú∫ÁßëÂ≠¶",level:"È°∂Á∫ßÊ¶ÇÂøµ"}},{id:"ML",name:"Êú∫Âô®Â≠¶‰π†",category:0,value:90,description:"ËÆ©ËÆ°ÁÆóÊú∫‰ªéÊï∞ÊçÆ‰∏≠Â≠¶‰π†ÁöÑÊñπÊ≥ï",properties:{type:"Ê†∏ÂøÉÊ¶ÇÂøµ",field:"‰∫∫Â∑•Êô∫ËÉΩ",level:"Ê†∏ÂøÉÊäÄÊúØ"}},{id:"DL",name:"Ê∑±Â∫¶Â≠¶‰π†",category:0,value:80,description:"Âü∫‰∫éÁ•ûÁªèÁΩëÁªúÁöÑÊú∫Âô®Â≠¶‰π†ÊñπÊ≥ï",properties:{type:"Ê†∏ÂøÉÊ¶ÇÂøµ",field:"Êú∫Âô®Â≠¶‰π†",level:"ÂâçÊ≤øÊäÄÊúØ"}},{id:"NLP",name:"Ëá™ÁÑ∂ËØ≠Ë®ÄÂ§ÑÁêÜ",category:1,value:70,description:"ËÆ©ËÆ°ÁÆóÊú∫ÁêÜËß£ÂíåÂ§ÑÁêÜËá™ÁÑ∂ËØ≠Ë®ÄÁöÑÊäÄÊúØ",properties:{type:"Â∫îÁî®È¢ÜÂüü",field:"ËØ≠Ë®ÄÊäÄÊúØ",level:"‰∏ì‰∏öÊäÄÊúØ"}},{id:"CV",name:"ËÆ°ÁÆóÊú∫ËßÜËßâ",category:1,value:75,description:"ËÆ©ËÆ°ÁÆóÊú∫ÁêÜËß£ÂíåÂàÜÊûêÂõæÂÉèÁöÑÊäÄÊúØ",properties:{type:"Â∫îÁî®È¢ÜÂüü",field:"ÂõæÂÉèÊäÄÊúØ",level:"‰∏ì‰∏öÊäÄÊúØ"}},{id:"TensorFlow",name:"TensorFlow",category:2,value:60,description:"GoogleÂºÄÂèëÁöÑÂºÄÊ∫êÊú∫Âô®Â≠¶‰π†Ê°ÜÊû∂",properties:{type:"Â∑•ÂÖ∑Ê°ÜÊû∂",developer:"Google",license:"Apache 2.0"}},{id:"PyTorch",name:"PyTorch",category:2,value:58,description:"FacebookÂºÄÂèëÁöÑÂºÄÊ∫êÊú∫Âô®Â≠¶‰π†Ê°ÜÊû∂",properties:{type:"Â∑•ÂÖ∑Ê°ÜÊû∂",developer:"Facebook",license:"BSD"}},{id:"GPT",name:"GPTÊ®°Âûã",category:3,value:85,description:"ÁîüÊàêÂºèÈ¢ÑËÆ≠ÁªÉtransformerÊ®°Âûã",properties:{type:"ÂÖ∑‰ΩìÊ®°Âûã",architecture:"Transformer",task:"ÊñáÊú¨ÁîüÊàê"}},{id:"BERT",name:"BERTÊ®°Âûã",category:3,value:80,description:"ÂèåÂêëÁºñÁ†ÅÂô®Ë°®Á§∫ÁöÑtransformer",properties:{type:"ÂÖ∑‰ΩìÊ®°Âûã",architecture:"Transformer",task:"ÊñáÊú¨ÁêÜËß£"}}],links:[{source:"AI",target:"ML",value:10,relationship:"ÂåÖÂê´",description:"‰∫∫Â∑•Êô∫ËÉΩÂåÖÂê´Êú∫Âô®Â≠¶‰π†"},{source:"ML",target:"DL",value:8,relationship:"ÂåÖÂê´",description:"Êú∫Âô®Â≠¶‰π†ÂåÖÂê´Ê∑±Â∫¶Â≠¶‰π†"},{source:"ML",target:"NLP",value:7,relationship:"Â∫îÁî®‰∫é",description:"Êú∫Âô®Â≠¶‰π†Â∫îÁî®‰∫éËá™ÁÑ∂ËØ≠Ë®ÄÂ§ÑÁêÜ"},{source:"ML",target:"CV",value:7,relationship:"Â∫îÁî®‰∫é",description:"Êú∫Âô®Â≠¶‰π†Â∫îÁî®‰∫éËÆ°ÁÆóÊú∫ËßÜËßâ"},{source:"DL",target:"TensorFlow",value:6,relationship:"‰ΩøÁî®",description:"Ê∑±Â∫¶Â≠¶‰π†‰ΩøÁî®TensorFlowÊ°ÜÊû∂"},{source:"DL",target:"PyTorch",value:6,relationship:"‰ΩøÁî®",description:"Ê∑±Â∫¶Â≠¶‰π†‰ΩøÁî®PyTorchÊ°ÜÊû∂"},{source:"NLP",target:"GPT",value:8,relationship:"ÂÆûÁé∞",description:"Ëá™ÁÑ∂ËØ≠Ë®ÄÂ§ÑÁêÜÈÄöËøáGPTÊ®°ÂûãÂÆûÁé∞"},{source:"NLP",target:"BERT",value:7,relationship:"ÂÆûÁé∞",description:"Ëá™ÁÑ∂ËØ≠Ë®ÄÂ§ÑÁêÜÈÄöËøáBERTÊ®°ÂûãÂÆûÁé∞"},{source:"TensorFlow",target:"GPT",value:5,relationship:"ËÆ≠ÁªÉ",description:"TensorFlowÂèØ‰ª•ËÆ≠ÁªÉGPTÊ®°Âûã"},{source:"PyTorch",target:"BERT",value:5,relationship:"ËÆ≠ÁªÉ",description:"PyTorchÂèØ‰ª•ËÆ≠ÁªÉBERTÊ®°Âûã"}],categories:[{id:0,name:"Ê†∏ÂøÉÊ¶ÇÂøµ",color:"#ff9800",description:"AIÈ¢ÜÂüüÁöÑÊ†∏ÂøÉÊ¶ÇÂøµ"},{id:1,name:"Â∫îÁî®È¢ÜÂüü",color:"#f44336",description:"AIÁöÑÂÖ∑‰ΩìÂ∫îÁî®È¢ÜÂüü"},{id:2,name:"Â∑•ÂÖ∑Ê°ÜÊû∂",color:"#4caf50",description:"AIÂºÄÂèëÂ∑•ÂÖ∑ÂíåÊ°ÜÊû∂"},{id:3,name:"ÂÖ∑‰ΩìÊ®°Âûã",color:"#2196f3",description:"ÂÖ∑‰ΩìÁöÑAIÊ®°Âûã"}],metadata:{total_nodes:9,total_links:10,last_updated:(new Date).toISOString(),data_source:"Á§∫‰æãÊï∞ÊçÆ",author:"Êô∫ËÉΩÂàÜÊûêÁ≥ªÁªü",version:"1.0"}}}clearCache(){this.dataCache.clear()}getCacheStats(){return{size:this.dataCache.size,keys:Array.from(this.dataCache.keys())}}}const q=new V;var X=q,H={name:"KnowledgeGraphThree",data(){return{graphData:{nodes:[],links:[]},nodeCount:0,linkCount:0,autoRotate:!1,loading:!1,loadingText:"Âä†ËΩΩ‰∏≠...",panelCollapsed:!1,selectedNode:null,fps:60}},created(){this.scene=null,this.camera=null,this.renderer=null,this.controls=null,this.raycaster=null,this.mouse=null,this.nodeObjects=[],this.linkObjects=[]},mounted(){this.initThree(),this.loadTestData(),this.startAnimationLoop(),this.startFPSCounter()},beforeUnmount(){this.cleanup()},methods:{async initThree(){try{this.scene=(0,z.IG)(new B.Z58),this.scene.background=new B.Q1f(17);const e=this.$refs.threeContainer;this.camera=(0,z.IG)(new B.ubm(75,e.clientWidth/e.clientHeight,.1,2e3)),this.camera.position.set(100,100,100),this.renderer=(0,z.IG)(new W.JeP({antialias:!0})),this.renderer.setSize(e.clientWidth,e.clientHeight),this.renderer.setPixelRatio(window.devicePixelRatio),e.appendChild(this.renderer.domElement);const{OrbitControls:t}=await o.e(951).then(o.bind(o,2951));this.controls=(0,z.IG)(new t(this.camera,this.renderer.domElement)),this.controls.enableDamping=!0,this.controls.dampingFactor=.05,this.controls.autoRotate=this.autoRotate,this.raycaster=(0,z.IG)(new B.tBo),this.mouse=(0,z.IG)(new B.I9Y),this.addLights(),this.addEventListeners(),console.log("Three.js ÂàùÂßãÂåñÊàêÂäü")}catch(e){console.error("Three.js ÂàùÂßãÂåñÂ§±Ë¥•:",e)}},addLights(){const e=(0,z.IG)(new B.$p8(4210752,.6));this.scene.add(e);const t=(0,z.IG)(new B.ZyN(16777215,.8));t.position.set(100,100,50),this.scene.add(t);const o=(0,z.IG)(new B.HiM(5164484,1,200));o.position.set(50,50,50),this.scene.add(o)},async loadTestData(){this.loading=!0,this.loadingText="Ê≠£Âú®ÁîüÊàêÊµãËØïÊï∞ÊçÆ...";try{const e=await X.generateSampleData();this.graphData=e,this.nodeCount=e.nodes.length,this.linkCount=e.links.length,await this.renderGraph(),this.loading=!1}catch(e){console.error("Âä†ËΩΩÊµãËØïÊï∞ÊçÆÂ§±Ë¥•:",e),this.loading=!1}},async renderGraph(){this.clearGraph(),await this.renderNodes(),await this.renderLinks(),this.applyForceLayout()},createTextTexture(e,t="transparent",o="#ffffff"){const n=document.createElement("canvas"),s=n.getContext("2d");n.width=512,n.height=256,s.font="Bold 48px Arial","transparent"!==t&&(s.fillStyle=t,s.fillRect(0,0,n.width,n.height)),s.strokeStyle="#000000",s.lineWidth=4,s.textAlign="center",s.textBaseline="middle",s.fillStyle=o;const i=n.width-40,r=this.wrapText(s,e,i),a=56,c=(n.height-(r.length-1)*a)/2;r.forEach((e,t)=>{const o=c+t*a;s.strokeText(e,n.width/2,o),s.fillText(e,n.width/2,o)});const l=(0,z.IG)(new B.GOR(n));return l.needsUpdate=!0,l},wrapText(e,t,o){const n=t.split(""),s=[];let i="";for(const r of n){const t=i+r,n=e.measureText(t);n.width>o&&""!==i?(s.push(i),i=r):i=t}return s.push(i),s},async renderNodes(){const e=(0,z.IG)(new B.Gu$(1,16,16));for(let t=0;t<this.graphData.nodes.length;t++){const o=this.graphData.nodes[t],n=new B.Q1f(this.getCategoryColor(o.category)),s=(0,z.IG)(new B.tXL({color:n,transparent:!0,opacity:.9})),i=(0,z.IG)(new B.eaF(e,s));i.position.set(200*(Math.random()-.5),200*(Math.random()-.5),200*(Math.random()-.5));const r=.3*Math.sqrt(o.value)+1;i.scale.setScalar(r),i.userData=o,i.userData.index=t,this.scene.add(i),this.nodeObjects.push(i);const a=this.createTextTexture(o.name,"transparent","#ffffff"),c=(0,z.IG)(new B.V9B({map:a,transparent:!0,alphaTest:.1,side:B.$EB})),l=(0,z.IG)(new B.bdM(8,4)),d=(0,z.IG)(new B.eaF(l,c));d.position.copy(i.position),d.position.y+=r+3,d.userData={nodeIndex:t,isLabel:!0,parentNode:i},this.scene.add(d),this.nodeObjects.push(d)}},renderLinks(){for(const e of this.graphData.links){const t=this.nodeObjects.find(t=>t.userData.id===e.source),o=this.nodeObjects.find(t=>t.userData.id===e.target);if(t&&o){const n=[t.position,o.position],s=(0,z.IG)((new B.LoY).setFromPoints(n)),i=new B.Q1f(this.getRelationshipColor(e.relationship)),r=(0,z.IG)(new B.mrM({color:i,transparent:!0,opacity:.7})),a=(0,z.IG)(new B.N1A(s,r));a.userData=e,this.scene.add(a),this.linkObjects.push(a)}}},applyForceLayout(){for(let e=0;e<50;e++){for(let e=0;e<this.nodeObjects.length;e++)for(let t=e+1;t<this.nodeObjects.length;t++){const o=this.nodeObjects[e],n=this.nodeObjects[t],s=o.position.distanceTo(n.position);if(s<50){const e=1e3/(s*s),t=(0,z.IG)(new B.Pq0).subVectors(o.position,n.position).normalize();o.position.add(t.multiplyScalar(.01*e)),n.position.sub(t.multiplyScalar(.01*e))}}for(const e of this.linkObjects){const t=this.nodeObjects.find(t=>t.userData.id===e.userData.source),o=this.nodeObjects.find(t=>t.userData.id===e.userData.target);if(t&&o){const e=t.position.distanceTo(o.position),n=80,s=.01*(e-n),i=(0,z.IG)(new B.Pq0).subVectors(o.position,t.position).normalize();t.position.add(i.multiplyScalar(s)),o.position.sub(i.multiplyScalar(s))}}}this.updateLinkPositions()},updateLinkPositions(){for(const e of this.linkObjects){const t=this.nodeObjects.find(t=>t.userData.id===e.userData.source),o=this.nodeObjects.find(t=>t.userData.id===e.userData.target);if(t&&o){const n=[t.position.clone(),o.position.clone()];e.geometry.setFromPoints(n)}}},clearGraph(){for(const e of this.nodeObjects)this.scene.remove(e);this.nodeObjects=[];for(const e of this.linkObjects)this.scene.remove(e);this.linkObjects=[]},addEventListeners(){window.addEventListener("resize",this.onWindowResize),this.renderer.domElement.addEventListener("click",this.onMouseClick)},onWindowResize(){const e=this.$refs.threeContainer;this.camera.aspect=e.clientWidth/e.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(e.clientWidth,e.clientHeight)},onMouseClick(e){this.mouse.x=e.clientX/window.innerWidth*2-1,this.mouse.y=-e.clientY/window.innerHeight*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);const t=this.raycaster.intersectObjects(this.nodeObjects);if(t.length>0){const e=t[0].object;this.openNodeDetail(e.userData)}},startAnimationLoop(){const e=()=>{requestAnimationFrame(e),this.controls&&this.controls.update();for(const e of this.nodeObjects)e.userData.isLabel?(e.lookAt(this.camera.position),e.userData.parentNode&&(e.position.copy(e.userData.parentNode.position),e.position.y+=e.userData.parentNode.scale.x+3)):(e.position.y+=.02*Math.sin(.001*Date.now()+e.userData.index),e.rotation.y+=.01);this.updateLinkPositions(),this.renderer&&this.scene&&this.camera&&this.renderer.render(this.scene,this.camera)};e()},startFPSCounter(){let e=performance.now(),t=0;const o=()=>{t++;const n=performance.now();n-e>=1e3&&(this.fps=t,t=0,e=n),requestAnimationFrame(o)};o()},getCategoryColor(e){const t=["#ff4500","#ff1744","#00e676","#2979ff","#e91e63","#ffab00"];return t[e]||"#ffffff"},getRelationshipColor(e){const t={"ÂåÖÂê´":"#4caf50","ÂÖ≥ËÅî":"#2196f3","Â∫îÁî®‰∫é":"#ff9800","ÂÆûÁé∞":"#9c27b0","‰ΩøÁî®":"#607d8b","ËÆ≠ÁªÉ":"#f44336"};return t[e]||"#4ecdc4"},getStarStyle(){return{left:100*Math.random()+"%",top:100*Math.random()+"%",animationDelay:3*Math.random()+"s"}},togglePanel(){this.panelCollapsed=!this.panelCollapsed},toggleAutoRotate(){this.autoRotate=!this.autoRotate,this.controls&&(this.controls.autoRotate=this.autoRotate)},resetView(){this.camera&&this.controls&&(this.camera.position.set(100,100,100),this.controls.reset())},refreshData(){this.loadTestData()},openNodeDetail(e){this.selectedNode=e},closeNodeDetail(){this.selectedNode=null},cleanup(){window.removeEventListener("resize",this.onWindowResize),this.renderer&&this.renderer.dispose(),this.scene.traverse(e=>{e.geometry&&e.geometry.dispose(),e.material&&(Array.isArray(e.material)?e.material.forEach(e=>e.dispose()):e.material.dispose())})}}};const U=(0,c.A)(H,[["render",$],["__scopeId","data-v-37d052d8"]]);var Q=U;const J=[{path:"/",redirect:"/graphview"},{path:"/graphview",name:"graphview",component:Q,meta:{title:"3DÁü•ËØÜÂõæË∞±"}}],Y=(0,h.aE)({history:(0,h.LA)(),routes:J});Y.beforeEach((e,t,o)=>{e.meta.title&&(document.title=e.meta.title),o()});var K=Y;class Z{constructor(){this.isProduction=!0,this.basePath="/graphview/"}configureThreeJS(){this.isProduction&&console.log("Three.js configured for offline use")}interceptCDNRequests(){if(this.isProduction){const e=window.fetch,t=this;window.fetch=function(o,n){const s={"cdn.jsdelivr.net":`${t.basePath}assets/cdn/`,"unpkg.com":`${t.basePath}assets/cdn/`,"fonts.googleapis.com":`${t.basePath}assets/fonts/`,"fonts.gstatic.com":`${t.basePath}assets/fonts/`};let i=o;for(const[e,t]of Object.entries(s))if(o.includes(e)){i=o.replace(`https://${e}`,t),console.log(`CDNËØ∑Ê±ÇÈáçÂÆöÂêë: ${o} -> ${i}`);break}return e.call(this,i,n)}}}init(){this.configureThreeJS(),this.interceptCDNRequests(),console.log("Á¶ªÁ∫øËµÑÊ∫êÈÖçÁΩÆÂ∑≤ÂàùÂßãÂåñ")}}var ee=new Z;ee.init(),(0,n.Ef)(d).use(K).mount("#app")}},t={};function o(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,o),i.exports}o.m=e,function(){var e=[];o.O=function(t,n,s,i){if(!n){var r=1/0;for(d=0;d<e.length;d++){n=e[d][0],s=e[d][1],i=e[d][2];for(var a=!0,c=0;c<n.length;c++)(!1&i||r>=i)&&Object.keys(o.O).every(function(e){return o.O[e](n[c])})?n.splice(c--,1):(a=!1,i<r&&(r=i));if(a){e.splice(d--,1);var l=s();void 0!==l&&(t=l)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,s,i]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce(function(t,n){return o.f[n](e,t),t},[]))}}(),function(){o.u=function(e){return"js/"+e+".c3785a31.js"}}(),function(){o.miniCssF=function(e){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="3d-graphic-view:";o.l=function(n,s,i,r){if(e[n])e[n].push(s);else{var a,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var h=l[d];if(h.getAttribute("src")==n||h.getAttribute("data-webpack")==t+i){a=h;break}}a||(c=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",t+i),a.src=n),e[n]=[s];var u=function(t,o){a.onerror=a.onload=null,clearTimeout(p);var s=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach(function(e){return e(o)}),t)return t(o)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),c&&document.head.appendChild(a)}}}(),function(){o.p="/graphview/"}(),function(){var e={524:0};o.f.j=function(t,n){var s=o.o(e,t)?e[t]:void 0;if(0!==s)if(s)n.push(s[2]);else{var i=new Promise(function(o,n){s=e[t]=[o,n]});n.push(s[2]=i);var r=o.p+o.u(t),a=new Error,c=function(n){if(o.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var i=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",a.name="ChunkLoadError",a.type=i,a.request=r,s[1](a)}};o.l(r,c,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,i,r=n[0],a=n[1],c=n[2],l=0;if(r.some(function(t){return 0!==e[t]})){for(s in a)o.o(a,s)&&(o.m[s]=a[s]);if(c)var d=c(o)}for(t&&t(n);l<r.length;l++)i=r[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(d)},n=self["webpackChunk_3d_graphic_view"]=self["webpackChunk_3d_graphic_view"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],function(){return o(213)});n=o.O(n)})();
//# sourceMappingURL=app.02811054.js.map